# **Планировщик приема лекарств**

Необходимо разработать сервис, который напоминает о приёме лекарств.

## Требования
- Все лекарства принимаются только в течение дня. Днем считаеться интервал времени с
	8:00 утра до 22:00 вечера.
- Периодичность приема лекарств: от одного раза в день до ежечасного приёма.
- Продолжительность приема лекарств: есть такие, которые следует принимать на
	протяжении определенного периода (например, в течение двух недель), а есть и
	такие, которые следует принимать постоянно.
- Минуты во всех рассчитанных временных метках необходимо сделать кратными 15 (то
	есть, если время приема рассчиталось как 17:07, то сервис должен округлять его до
	17:15)
	
Приложение должно быть реализовано в виде HTTP сервера, реализующее REST API. Сервер
должен реализовывать 4 методов и их логику:

#### Проверка работоспособности
- Эндпоинт - GET /health
- Статус ответа 200 если сервис работает исправно

##### Пример
```bash
$ curl -i -X GET 'http://localhost:8080/health'

{
  "status": "OK"
}
```

#### Создание расписания приёма лекарств
- Эндпоинт - POST /schedule
- Параметры запроса:
	- JSON-объект в теле запроса с параметрами:
		- name_medicine – наименование лекарства
		- num_per_day - количество приемов лекарств за день
		- all_life - если true, то принимать постоянно, иначе принимать с begin_date по
			end_date включительно
		- begin_date - дата начала приема лекарств (необязательный параметр)
		- end_date - дата окончания приема лекарств (необязательный параметр)
		- user_id – UUID идентификатор пользователя
- Статус ответа 201 если расписание создано успешно. Ответ должен содержать в теле JSON с идентификатором созданого расписания.

##### Пример
```bash
$ curl -i -X POST 'http://localhost:8080/schedule' \
-H "Content-Type: application/json" \
-d '{
	"name_medicine":"Medicine 1",
	"num_per_day":21,
	"all_life":false,
	"begin_date":"2025-03-10",
	"end_date":"2025-03-20",
	"user_id":"2b468473-e360-47e1-8967-d53af04c93d1"
}'

{
  "id": 1,
  "status": "OK"
}
```

#### Получение списка идентификаторов расписаний
- Эндпоинт - GET /schedules
- Параметры запроса:
	- user_id - UUID идентификатор пользователя
- Ответ со статусом 200 если список идентификаторов получен успешено. Ответ должен содержать в теле JSON с массивом идентификаторов.

##### Пример
```bash
$ curl -i -X GET 'http://localhost:8080/schedules?user_id=2b468473-e360-47e1-8967-d53af04c93d1'

{
  "list_ids": [
    1
  ],
  "status": "OK"
}

```
#### Получение расписания
- Эндпоинт - GET /schedule
- Параметры запроса:
	- user_id - UUID идентификатор пользователя
	- schedule_id - идентификатор расписания
- Ответ со статусом 200 если расписание получено успешено. Ответ должен содержать в теле JSON с параметрами:
	- id - идентификатор расписания
	- name_medicine – наименование лекарства
	- num_per_day - количество приемов лекарств за день
	- times - массив с временем приема лекарств
	- all_life - если true, то принимать постоянно, иначе принимать с begin_date по
		end_date включительно
	- begin_date - дата начала приема лекарств (необязательный параметр)
	- end_date - дата окончания приема лекарств (необязательный параметр)
	- user_id – UUID идентификатор пользователя

##### Пример
```bash
$ curl -i -X GET 'http://localhost:8080/schedule?user_id=2b468473-e360-47e1-8967-d53af04c93d1&schedule_id=1'

{
  "id": 1,
  "name_medicine": "Medicine 1",
  "num_per_day": 21,
  "times": [
    "08:00",
    "08:45",
     .....
    "21:30",
    "22:00"
  ],
  "all_life": false,
  "begin_date": "2025-03-10",
  "end_date": "2025-03-20",
  "user_id": "2b468473-e360-47e1-8967-d53af04c93d1",
  "status": "OK"
}
```

#### Получение списка лекарств, которые необходимо принять в ближайший период
- Эндпоинт - GET /next_takings
- Параметры запроса:
	- user_id - UUID идентификатор пользователя
- Ответ с статусом 200 если список лекарств получен успешено. Ответ должен содержать в теле массив JSON-объектов с лекарствами, которые необходимо принять в ближайший период. Каждый объект содержит параметры:
	- name_medicine – наименование лекарства
	- time – время приема лекарства

##### Пример
```bash
$ curl -i -X GET 'http://localhost:8080/next_takings?user_id=2b468473-e360-47e1-8967-d53af04c93d1'

{
  "taking_now": [
    {
      "name_medicine": "Medicine 1",
      "time": "18:00"
    },
    {
      "name_medicine": "Medicine 1",
      "time": "18:30"
    }
  ],
  "status": "OK"
}
```

## Сборка и запуск приложения в Docker Compose
```shell script
$ make run
...............
```
